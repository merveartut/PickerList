import{j as s}from"./jsx-runtime-CkxqCPlQ.js";import{r}from"./index-DJO9vBfz.js";import{M as z,B as U}from"./Menu-B1RHhuOZ.js";import"./iconBase-DNSKKw1X.js";function x({columns:i,data:u,isZebra:A,isCheckbox:g}){const[a,N]=r.useState({key:null,direction:"asc"}),[m,h]=r.useState([]),[c,j]=r.useState([]),[d,M]=r.useState(i.reduce((e,t)=>(e[t]=150,e),{})),w=(e,t)=>{e.preventDefault();const n=e.clientX,p=d[t],R=i.indexOf(t)+1,o=i[R],y=o?d[o]:0,b=_=>{const C=_.clientX-n;M(H=>{const B=p+C,X=o?y-C:y;return{...H,[t]:Math.max(B,50),...o&&{[o]:Math.max(X,50)}}})},k=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",k)},f=r.useMemo(()=>a.key?[...u].sort((e,t)=>e[a.key]<t[a.key]?a.direction==="asc"?-1:1:e[a.key]>t[a.key]?a.direction==="asc"?1:-1:0):u,[u,a]),E=e=>{let t="asc";a.key===e&&a.direction==="asc"&&(t="desc"),N({key:e,direction:t})},O=(e,t)=>{h(n=>n.includes(e)?(alert(`${t+1}. row is deselected.`),n.filter(p=>p!==e)):(alert(`${t+1}. row is selected.`),[...n,e]))},L=()=>{m.length===f.length?(alert("None of the rows selected"),h([])):(alert("All of the rows are selected"),h(f.map(e=>e.id)))},T=e=>{console.log(e,"lklkl"),j([...c,e])},W=e=>{j(t=>t.filter(n=>n!==e))};return console.log(m),s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[g&&s.jsx("th",{style:{textAlign:"center"},children:s.jsx("input",{type:"checkbox",onChange:()=>L()})}),i.map(e=>s.jsx("th",{style:{width:d[e]},children:s.jsxs("div",{className:"column-data",children:[c.includes(e)?"":e,s.jsx(z,{items:[{label:"Sort",onClick:()=>E(e)},{label:"Hide",onClick:()=>T(e)},{label:"Display Column",onClick:()=>W(e)}],Icon:U}),s.jsx("div",{className:"resize-handle",onMouseDown:t=>w(t,e)})]})},e))]})}),s.jsx("tbody",{children:f.map((e,t)=>s.jsxs("tr",{style:{backgroundColor:A&&t%2===0?"#f9f9f9":"#ffffff"},children:[g&&s.jsx("td",{style:{width:"40px",textAlign:"center"},children:s.jsx("input",{type:"checkbox",checked:m.includes(e.id),onChange:()=>O(e.id,t)})}),i.map(n=>s.jsx("td",{style:{width:d[n]},className:c.includes(n)?"minimized-column":"",children:c.includes(n)?s.jsx("div",{}):e[n]},n))]},t))})]})}x.__docgenInfo={description:"",methods:[],displayName:"DataTable"};const I={title:"DataTable",component:x},$=i=>s.jsx(x,{...i}),l=$.bind({});l.args={columns:["Name","Age","Occupation"],data:[{id:0,Name:"Alice",Age:25,Occupation:"Engineer"},{id:1,Name:"Bob",Age:30,Occupation:"Designer"},{id:2,Name:"Sarah",Age:28,Occupation:"Author"},{id:3,Name:"Gabriel",Age:32,Occupation:"Chef"}],isZebra:!0,isCheckbox:!0};var D,S,v;l.parameters={...l.parameters,docs:{...(D=l.parameters)==null?void 0:D.docs,source:{originalSource:"args => <DataTable {...args} />",...(v=(S=l.parameters)==null?void 0:S.docs)==null?void 0:v.source}}};const J=["Default"];export{l as Default,J as __namedExportsOrder,I as default};
